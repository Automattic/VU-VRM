<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>VU-VRM</title>
  <link rel="stylesheet" href="./style.css">
</head>

<body>
<!-- three.min.js r110 -->
<script src="https://cdn.jsdelivr.net/npm/three@0.110.0/build/three.min.js"></script>

<!-- GLTFLoader.js -->
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r110/examples/js/loaders/GLTFLoader.js"></script>

<!-- OrbitControls.js -->
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r110/examples/js/controls/OrbitControls.js"></script>

<!-- pixiv three-vrm.js -->
<script src="https://unpkg.com/@pixiv/three-vrm@0.3.0/lib/three-vrm.js"></script>

<script  src="./script.js"></script>

 <div class="backplate" id="backplate">
    <h1>VU-VRM</h1>
      <h3>A simple mic-driven VRM client</h3>
      <h4>Mic access required / Designed for use in OBS</h4>
      <h4>Built for hands-free webcam-free inclusivity</h4>
      <br>
      <p>Features:</p>
    <p>Local VRM file support</p>
    <p>Microphone-driven lip sync</p>
    <p>Random upper body animation</p>
    <p>Animation value fine tuning</p> 
    <p>A cute default avatar</p>
  
    </div>

    <div id="credits" class="credits">
      <p>v1.0 by itsTallulahhh</p>
      <p>an Automattic Empathy</p>
      <p>Microphone permission required</p>
    </div>

    <div id="infobar" class="infobar">
      <p><small>Launch OBS with these arguments to use this as a Browser Source:</small></p>
      <p><span class="highlight">--use-fake-ui-for-media-stream --allow-file-access-from-files</span></p>
    </div>

    <div class="interface" id="interface" onclick="interface()">
      <div class="sliders" id="sliders">

      <p>
          <span class="controlboxlabel">Input Volume VU</span>
          <input type="range" min="0" max="100" value="10" class="slider" id="inputlevel">

          <br>

          <span class="controlboxlabel">Mouth Threshold</span>
          <input type="range" min="0" max="100" value="10" class="slider" id="mouththreshold">

          <br>
          <span class="controlboxlabel">Body Threshold</span>
          <input type="range" min="0" max="100" value="10" class="slider" id="bodythreshold">

          <br>
          <span class="controlboxlabel">Mouth Gain Boost</span>
          <input type="range" min="0" max="100" value="10" class="slider" id="mouthboost">

          <br>
          <span class="controlboxlabel">Body Gain Boost</span>
          <input type="range" min="0" max="100" value="10" class="slider" id="bodymotion">

          </p>
        
      </div>
      
      <div class="fileinput" id="fileinput">

          <p><input id="file" class="file" type="file" onchange="dofile()"></p>

      </div>
      
              <div class="closebtn" id="closebtn" onclick="hideinterface()">X</div>

        
    </div> 

  </body>
  </html>